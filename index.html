<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>G·ª≠i Tr√† My</title>
  <meta name="description" content="M·ªôt trang nh·ªè cho Tr√† My, ƒë·ªÉ th·∫•y nh·∫π h∆°n." />
  <style>
    :root{
      --bg1:#0b1020;
      --bg2:#0f1a3a;
      --card:#0f1630cc;
      --stroke:#ffffff1a;
      --text:#eaf0ff;
      --muted:#b8c4e6;
      --accent:#88a8ff;
      --accent2:#b7ffda;
      --shadow: 0 20px 60px rgba(0,0,0,.35);
      --radius: 22px;
      --ease: cubic-bezier(.2,.9,.2,1);
      --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:var(--font);
      color:var(--text);
      background:
        radial-gradient(1200px 800px at 20% 10%, rgba(136,168,255,.35), transparent 60%),
        radial-gradient(900px 700px at 80% 30%, rgba(183,255,218,.18), transparent 55%),
        linear-gradient(160deg, var(--bg1), var(--bg2));
      overflow-x:hidden;
    }
    .wrap{
      min-height:100%;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:28px 16px;
    }
    .card{
      width:min(940px, 100%);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border:1px solid var(--stroke);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      position:relative;
      overflow:hidden;
      transform: translateY(10px);
      animation: rise 900ms var(--ease) forwards;
      backdrop-filter: blur(10px);
    }
    @keyframes rise{ to{transform: translateY(0)} }
    .glow{
      position:absolute; inset:-2px;
      pointer-events:none;
      background:
        radial-gradient(500px 260px at 30% 0%, rgba(136,168,255,.18), transparent 70%),
        radial-gradient(420px 220px at 80% 10%, rgba(183,255,218,.12), transparent 65%);
    }
    header{
      padding:26px 26px 10px;
      display:flex;
      gap:14px;
      align-items:center;
      border-bottom:1px solid var(--stroke);
    }
    .badge{
      width:44px;height:44px;border-radius:14px;
      display:grid;place-items:center;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.05);
    }
    .title{ line-height:1.15; }
    .title h1{ margin:0; font-size:18px; letter-spacing:.2px; font-weight:700; }
    .title p{ margin:6px 0 0; font-size:13px; color:var(--muted); }

    .content{
      display:grid;
      grid-template-columns: 1.05fr .95fr;
      gap:18px;
      padding:22px 26px 26px;
    }
    @media (max-width: 820px){ .content{grid-template-columns:1fr} }

    .panel{
      border:1px solid var(--stroke);
      border-radius:18px;
      background: rgba(10,14,30,.45);
      padding:18px;
      position:relative;
      overflow:hidden;
    }
    .panel h2{ margin:0 0 10px; font-size:15px; font-weight:700; }
    .panel p{
      margin:0 0 10px;
      color:var(--muted);
      line-height:1.65;
      font-size:14px;
    }
    .quote{
      margin-top:14px;
      padding:14px;
      border-radius:16px;
      border:1px dashed rgba(255,255,255,.18);
      background: rgba(255,255,255,.03);
      position:relative;
    }
    .quote .mark{ position:absolute; top:10px; right:12px; opacity:.55; font-size:18px; }
    .quote strong{ color:var(--text); font-weight:700; }

    .actions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top:14px;
    }
    button{
      appearance:none;
      border:none;
      border-radius:14px;
      padding:10px 12px;
      font-weight:700;
      cursor:pointer;
      transition: transform 180ms var(--ease), opacity 180ms var(--ease), box-shadow 180ms var(--ease);
      display:inline-flex;
      align-items:center;
      gap:8px;
      box-shadow: 0 10px 25px rgba(0,0,0,.25);
      user-select:none;
    }
    button:active{transform: scale(.98)}
    .btn-primary{
      background: linear-gradient(135deg, rgba(136,168,255,.95), rgba(183,255,218,.75));
      color:#061027;
    }
    .btn-ghost{
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.14);
      color:var(--text);
      box-shadow:none;
    }
    .tiny{ font-size:12px; color:var(--muted); margin-top:10px; }

    .chiprow{ display:flex; gap:8px; flex-wrap:wrap; margin:10px 0 14px; }
    .chip{
      padding:8px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.04);
      color:var(--muted);
      font-size:12px;
    }

    .meter{
      margin-top:12px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.04);
      padding:14px;
    }
    .meter label{
      display:flex;
      justify-content:space-between;
      font-size:12px;
      color:var(--muted);
      margin-bottom:10px;
    }
    .bar{
      height:10px;
      border-radius:999px;
      background: rgba(255,255,255,.10);
      overflow:hidden;
    }
    .fill{
      height:100%;
      width: 0%;
      border-radius:999px;
      background: linear-gradient(90deg, rgba(136,168,255,.95), rgba(183,255,218,.85));
      transition: width 900ms var(--ease);
    }
    .note{
      margin-top:12px;
      padding:14px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      color:var(--muted);
      line-height:1.6;
      font-size:13px;
    }
    .footer{
      padding:14px 26px 20px;
      border-top:1px solid var(--stroke);
      display:flex;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
      color:var(--muted);
      font-size:12px;
    }
    .linklike{
      color:var(--text);
      opacity:.9;
      text-decoration:none;
      border-bottom:1px dotted rgba(255,255,255,.35);
    }

    .floaty{ position:absolute; inset:0; pointer-events:none; overflow:hidden; }
    .heart{
      position:absolute;
      font-size:14px;
      opacity:0;
      transform: translateY(10px) scale(.9);
      animation: pop 1200ms var(--ease) forwards;
      filter: drop-shadow(0 8px 10px rgba(0,0,0,.25));
    }
    @keyframes pop{
      20%{opacity:.95; transform: translateY(0) scale(1)}
      100%{opacity:0; transform: translateY(-90px) scale(1.15)}
    }
    .toast{
      position: fixed;
      left:50%;
      bottom:18px;
      transform: translateX(-50%);
      background: rgba(10,14,30,.78);
      border:1px solid rgba(255,255,255,.16);
      color:var(--text);
      padding:10px 12px;
      border-radius:14px;
      box-shadow: var(--shadow);
      font-size:13px;
      opacity:0;
      pointer-events:none;
      transition: opacity 220ms var(--ease), transform 220ms var(--ease);
    }
    .toast.show{
      opacity:1;
      transform: translateX(-50%) translateY(-2px);
    }
  </style>
</head>

<body>
  <div class="wrap">
    <main class="card" role="main" aria-label="M·ªôt l·ªùi nh·∫Øn nh·ªè">
      <div class="glow"></div>
      <div class="floaty" id="floaty"></div>

      <header>
        <div class="badge" aria-hidden="true">ü§ç</div>
        <div class="title">
          <h1>G·ª≠i Tr√† My</h1>
          <p>M·ªôt trang nh·ªè, nh·∫π nh√†ng th√¥i. Kh√¥ng c·∫ßn ph·∫£i ph·∫£n h·ªìi.</p>
        </div>
      </header>

      <section class="content">
        <div class="panel">
          <h2>L·ªùi nh·∫Øn</h2>
          <p>
            Tr√† My ∆°i, d·∫°o n√†y n·∫øu m·ªçi th·ª© ƒëang ‚Äún·∫∑ng‚Äù h∆°n b√¨nh th∆∞·ªùng,
            th√¨ b·∫°n kh√¥ng c·∫ßn c·ªë t·ªè ra ·ªïn ngay l·∫≠p t·ª©c ƒë√¢u.
          </p>
          <p>
            C√≥ nh·ªØng ng√†y ch·ªâ c·∫ßn ƒëi ch·∫≠m l·∫°i m·ªôt ch√∫t c≈©ng ƒë√£ l√† r·∫•t gi·ªèi r·ªìi.
          </p>

          <div class="quote" aria-label="M·ªôt c√¢u d·ªãu d√†ng">
            <div class="mark">‚Äú</div>
            <p style="margin:0; color:var(--text); line-height:1.6;">
              N·∫øu b·∫°n mu·ªën kh√≥c th√¨ c·ª© kh√≥c.
              <br />
              Nh∆∞ng xin ƒë·ª´ng ·ªü l·∫°i v·ªõi n·ªói bu·ªìn m·ªôt m√¨nh qu√° l√¢u.
              <br /><br />
              <strong>M√¨nh ·ªü ƒë√¢y</strong> ‚Äî im l·∫∑ng c≈©ng ƒë∆∞·ª£c, k·ªÉ chuy·ªán c≈©ng ƒë∆∞·ª£c.
              B·∫°n kh√¥ng c·∫ßn ph·∫£i g·ªìng.
            </p>
          </div>

          <div class="actions" role="group" aria-label="H√†nh ƒë·ªông nh·∫π nh√†ng">
            <button class="btn-primary" id="btnBreathe" type="button">ü´ß Th·ªü c√πng m√¨nh (30s)</button>
            <button class="btn-ghost" id="btnHug" type="button">ü§ç M·ªôt c√°i √¥m ·∫£o</button>
            <button class="btn-ghost" id="btnCopy" type="button">üì© Copy l·ªùi nh·∫Øn</button>
          </div>

          <div class="tiny">(Kh√¥ng √°p l·ª±c ph·∫£i tr·∫£ l·ªùi nha. ƒê·ªçc l√† ƒë·ªß r·ªìi.)</div>
        </div>

        <div class="panel">
          <h2>Nh·ªãp m·ªõi, nh∆∞ng b·∫°n v·∫´n l√† b·∫°n</h2>
          <div class="chiprow">
            <div class="chip">B·∫°n v·∫´n x·ª©ng ƒë√°ng</div>
            <div class="chip">B·∫°n v·∫´n c√≥ ng∆∞·ªùi quan t√¢m</div>
            <div class="chip">T·ª´ng b∆∞·ªõc l√† ƒë·ªß</div>
          </div>

          <div class="meter" aria-label="Thanh d·ªãu xu·ªëng">
            <label>
              <span>H√¥m nay nh·∫π h∆°n m·ªôt ch√∫t</span>
              <span id="meterText">cao</span>
            </label>
            <div class="bar" aria-hidden="true">
              <div class="fill" id="fill"></div>
            </div>
          </div>

          <div class="note" id="note">
            G·ª£i √Ω nh·ªè: u·ªëng m·ªôt ng·ª•m n∆∞·ªõc, th·∫£ l·ªèng vai, r·ªìi h√≠t s√¢u m·ªôt h∆°i.
            T·ª´ t·ª´ th√¥i, b·∫°n kh√¥ng c·∫ßn ph·∫£i th·∫Øng nhanh.
          </div>

          <div class="actions" style="margin-top:12px;">
            <button class="btn-primary" id="btnSoft" type="button">‚ú® M·ªôt c√¢u d·ªãu h∆°n</button>
            <button class="btn-ghost" id="btnReset" type="button">‚Ü∫ Reset</button>
          </div>

          <div class="tiny">Trang n√†y ch·ªâ ƒë·ªÉ b·∫°n th·∫•y ‚Äúƒë∆∞·ª£c chƒÉm‚Äù m·ªôt ch√∫t.</div>
        </div>
      </section>

      <div class="footer">
        <div>Made quietly ‚Ä¢ with care</div>
        <div><a class="linklike" href="#" id="openMusic">B·∫≠t ‚Äúnh·∫°c im l·∫∑ng‚Äù</a></div>
      </div>
    </main>
  </div>

  <div class="toast" id="toast" role="status" aria-live="polite"></div>

  <script>
    const fill = document.getElementById('fill');
    const meterText = document.getElementById('meterText');
    const note = document.getElementById('note');
    const toast = document.getElementById('toast');
    const floaty = document.getElementById('floaty');

    let level = 85; // 0..100
    let musicOn = false;
    let audio;

    const softLines = [
      "B·∫°n kh√¥ng c·∫ßn ph·∫£i ·ªïn ngay. B·∫°n ch·ªâ c·∫ßn ƒë∆∞·ª£c t·ª≠ t·∫ø v·ªõi ch√≠nh m√¨nh.",
      "N·∫øu h√¥m nay kh√≥ qu√° th√¨ m√¨nh cho ph√©p b·∫°n m·ªát ‚Äî mai t√≠nh ti·∫øp.",
      "B·∫°n ƒëang l√†m t·ªët h∆°n b·∫°n nghƒ©.",
      "C·ª© ch·∫≠m th√¥i. B·∫°n kh√¥ng b·ªã t·ª•t l·∫°i ƒë√¢u.",
      "C√≥ ng∆∞·ªùi nghƒ© v·ªÅ b·∫°n theo c√°ch r·∫•t d·ªãu d√†ng."
    ];
    let softIndex = 0;

    function setMeter(newLevel){
      level = Math.max(0, Math.min(100, newLevel));
      fill.style.width = (100 - level) + "%";
      if(level > 70) meterText.textContent = "cao";
      else if(level > 45) meterText.textContent = "v·ª´a";
      else if(level > 20) meterText.textContent = "th·∫•p";
      else meterText.textContent = "r·∫•t th·∫•p";
    }

    function showToast(msg){
      toast.textContent = msg;
      toast.classList.add('show');
      clearTimeout(showToast._t);
      showToast._t = setTimeout(()=> toast.classList.remove('show'), 2200);
    }

    function spawnHearts(count=10){
      const w = floaty.clientWidth || window.innerWidth;
      for(let i=0;i<count;i++){
        const el = document.createElement('div');
        el.className = 'heart';
        el.textContent = Math.random() > 0.5 ? 'ü§ç' : '‚ú®';
        el.style.left = Math.floor(Math.random() * (w - 20)) + 'px';
        el.style.bottom = '10px';
        el.style.animationDelay = (Math.random() * 180) + 'ms';
        floaty.appendChild(el);
        setTimeout(()=> el.remove(), 1400);
      }
    }

    function breathe30s(){
      const script = [
        "H√≠t v√†o‚Ä¶ 4",
        "Gi·ªØ‚Ä¶ 4",
        "Th·ªü ra‚Ä¶ 6",
        "H√≠t v√†o‚Ä¶ 4",
        "Gi·ªØ‚Ä¶ 4",
        "Th·ªü ra‚Ä¶ 6",
        "H√≠t v√†o‚Ä¶ 4",
        "Gi·ªØ‚Ä¶ 4",
        "Th·ªü ra‚Ä¶ 6"
      ];
      let i = 0;
      showToast("B·∫Øt ƒë·∫ßu nh√©. Th·∫£ l·ªèng vai m·ªôt ch√∫t.");
      const timer = setInterval(()=>{
        note.textContent = script[i] || "T·ªët r·ªìi. B·∫°n l√†m ƒë∆∞·ª£c.";
        setMeter(level - 6);
        spawnHearts(6);
        i++;
        if(i >= script.length){
          clearInterval(timer);
          note.textContent = "Xong r·ªìi. N·∫øu v·∫´n bu·ªìn, c·ª© bu·ªìn nh·∫π th√¥i. B·∫°n kh√¥ng m·ªôt m√¨nh.";
          showToast("B·∫°n ƒë√£ th·ªü r·∫•t t·ªët.");
        }
      }, 3200);
    }

    async function copyMessage(){
      const msg =
`Tr√† My ∆°i, n·∫øu d·∫°o n√†y m·ªçi th·ª© ƒëang ‚Äún·∫∑ng‚Äù h∆°n b√¨nh th∆∞·ªùng,
th√¨ b·∫°n kh√¥ng c·∫ßn c·ªë t·ªè ra ·ªïn ngay l·∫≠p t·ª©c ƒë√¢u.

N·∫øu b·∫°n mu·ªën kh√≥c th√¨ c·ª© kh√≥c.
Nh∆∞ng xin ƒë·ª´ng ·ªü l·∫°i v·ªõi n·ªói bu·ªìn m·ªôt m√¨nh qu√° l√¢u.
M√¨nh ·ªü ƒë√¢y ‚Äî im l·∫∑ng c≈©ng ƒë∆∞·ª£c, k·ªÉ chuy·ªán c≈©ng ƒë∆∞·ª£c.

(Kh√¥ng √°p l·ª±c ph·∫£i tr·∫£ l·ªùi nha. ƒê·ªçc l√† ƒë·ªß r·ªìi.)`;
      try{
        await navigator.clipboard.writeText(msg);
        showToast("ƒê√£ copy l·ªùi nh·∫Øn üíå");
      }catch(e){
        showToast("Kh√¥ng copy ƒë∆∞·ª£c. B·∫°n c√≥ th·ªÉ copy th·ªß c√¥ng nh√©.");
      }
    }

    function toggleMusic(){
      if(!audio){
        const ctx = new (window.AudioContext || window.webkitAudioContext)();
        const master = ctx.createGain(); master.gain.value = 0.0;
        master.connect(ctx.destination);

        const osc = ctx.createOscillator();
        osc.type = "sine";
        osc.frequency.value = 196;

        const lfo = ctx.createOscillator();
        lfo.type = "sine";
        lfo.frequency.value = 0.12;

        const lfoGain = ctx.createGain();
        lfoGain.gain.value = 28;

        lfo.connect(lfoGain);
        lfoGain.connect(osc.frequency);

        osc.connect(master);
        osc.start();
        lfo.start();

        audio = { ctx, master };
      }

      musicOn = !musicOn;
      if(musicOn){
        audio.ctx.resume?.();
        audio.master.gain.setTargetAtTime(0.03, audio.ctx.currentTime, 0.2);
        showToast("ƒê√£ b·∫≠t (r·∫•t nh·∫π) üéß");
      }else{
        audio.master.gain.setTargetAtTime(0.0, audio.ctx.currentTime, 0.15);
        showToast("ƒê√£ t·∫Øt.");
      }
      document.getElementById('openMusic').textContent = musicOn ? "T·∫Øt ‚Äúnh·∫°c im l·∫∑ng‚Äù" : "B·∫≠t ‚Äúnh·∫°c im l·∫∑ng‚Äù";
    }

    document.getElementById('btnBreathe').addEventListener('click', breathe30s);
    document.getElementById('btnHug').addEventListener('click', () => {
      spawnHearts(18);
      setMeter(level - 10);
      showToast("√îm ·∫£o n√® ü§ç");
      note.textContent = "B·∫°n kh√¥ng c·∫ßn ph·∫£i g·ªìng. C√≥ ng∆∞·ªùi ƒëang ƒë·ª©ng v·ªÅ ph√≠a b·∫°n.";
    });
    document.getElementById('btnCopy').addEventListener('click', copyMessage);
    document.getElementById('btnSoft').addEventListener('click', () => {
      softIndex = (softIndex + 1) % softLines.length;
      note.textContent = softLines[softIndex];
      setMeter(level - 7);
      spawnHearts(10);
      showToast("M·ªôt c√¢u d·ªãu h∆°n.");
    });
    document.getElementById('btnReset').addEventListener('click', () => {
      setMeter(85);
      note.textContent = "G·ª£i √Ω nh·ªè: u·ªëng m·ªôt ng·ª•m n∆∞·ªõc, th·∫£ l·ªèng vai, r·ªìi h√≠t s√¢u m·ªôt h∆°i. T·ª´ t·ª´ th√¥i, b·∫°n kh√¥ng c·∫ßn ph·∫£i th·∫Øng nhanh.";
      showToast("Reset xong.");
    });
    document.getElementById('openMusic').addEventListener('click', (e) => {
      e.preventDefault();
      toggleMusic();
    });

    setMeter(level);
    setTimeout(()=> { setMeter(level - 8); }, 500);
  </script>
</body>
</html>
