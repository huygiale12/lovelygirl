<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Gá»­i TrÃ  My</title>

<style>
  :root{
    --bg1:#0f172a; --bg2:#020617;
    --card:rgba(255,255,255,0.06);
    --border:rgba(255,255,255,.14);
    --text:#e5e7eb; --muted:#cbd5f5;
    --accent:#a5b4fc;
  }
  body{
    margin:0; min-height:100vh;
    display:flex; align-items:center; justify-content:center;
    background:linear-gradient(160deg,var(--bg1),var(--bg2));
    font-family:system-ui,-apple-system,BlinkMacSystemFont;
    color:var(--text);
  }
  .card{
    width:min(720px,92%);
    background:var(--card);
    border:1px solid var(--border);
    border-radius:18px;
    padding:22px;
    box-shadow:0 20px 50px rgba(0,0,0,.35);
  }
  .top{
    display:flex; gap:14px; align-items:flex-start; justify-content:space-between;
    flex-wrap:wrap;
  }
  h1{ font-size:18px; margin:0 0 8px; }
  p{ font-size:14px; line-height:1.7; color:var(--muted); margin:0 0 10px; }
  .quote{
    margin:14px 0 0;
    padding:14px;
    border-left:3px solid var(--accent);
    background:rgba(255,255,255,.04);
    border-radius:12px;
    color:var(--text);
    font-size:14px;
    line-height:1.7;
  }

  .controls{
    display:flex; gap:10px; flex-wrap:wrap;
    margin-top:14px;
  }
  button{
    padding:10px 12px;
    border:none;
    border-radius:12px;
    font-weight:650;
    cursor:pointer;
  }
  .play{ background:var(--accent); color:#020617; }
  .ghost{ background:rgba(255,255,255,.10); color:var(--text); border:1px solid rgba(255,255,255,.12); }

  .sectionTitle{
    margin-top:18px;
    font-size:13px;
    color:#94a3b8;
  }

  .grid{
    margin-top:10px;
    display:grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap:10px;
  }
  @media (max-width:520px){ .grid{ grid-template-columns:1fr; } }

  .tile{
    text-align:left;
    padding:12px;
    border-radius:14px;
    border:1px solid rgba(255,255,255,.12);
    background:rgba(255,255,255,.05);
    color:var(--text);
    font-weight:650;
  }
  .tile small{
    display:block;
    margin-top:6px;
    font-weight:500;
    color:#b6c3e8;
    line-height:1.5;
  }

  /* Modal */
  .overlay{
    position:fixed; inset:0;
    background:rgba(0,0,0,.55);
    display:none;
    align-items:center; justify-content:center;
    padding:18px;
  }
  .overlay.show{ display:flex; }
  .modal{
    width:min(520px, 96%);
    background:rgba(10,14,30,.92);
    border:1px solid rgba(255,255,255,.14);
    border-radius:16px;
    box-shadow:0 25px 70px rgba(0,0,0,.45);
    overflow:hidden;
  }
  .modalHead{
    padding:14px 14px 10px;
    border-bottom:1px solid rgba(255,255,255,.12);
    display:flex; align-items:center; justify-content:space-between; gap:10px;
  }
  .modalHead b{ font-size:14px; }
  .x{
    background:transparent;
    border:1px solid rgba(255,255,255,.18);
    color:var(--text);
    border-radius:10px;
    padding:6px 10px;
    cursor:pointer;
  }
  .modalBody{
    padding:14px;
    color:var(--muted);
    line-height:1.7;
    font-size:14px;
  }
  .modalBody .big{
    color:var(--text);
    margin-bottom:10px;
  }
  .modalActions{
    padding:12px 14px 14px;
    display:flex;
    gap:10px;
    flex-wrap:wrap;
    border-top:1px solid rgba(255,255,255,.12);
  }
  .note{
    margin-top:12px;
    font-size:12px;
    color:#94a3b8;
    text-align:center;
  }

  textarea{
    width:100%;
    min-height:110px;
    border-radius:12px;
    border:1px solid rgba(255,255,255,.14);
    background:rgba(255,255,255,.05);
    color:var(--text);
    padding:10px 10px;
    resize:vertical;
    outline:none;
    font-size:14px;
    line-height:1.6;
  }
  .hint{
    font-size:12px;
    color:#93a4d6;
    margin-top:8px;
  }
</style>
</head>

<body>
  <div class="card">
    <div class="top">
      <div>
        <h1>Gá»­i TrÃ  My</h1>
        <p>
          Náº¿u dáº¡o nÃ y má»i thá»© hÆ¡i náº·ng hÆ¡n bÃ¬nh thÆ°á»ng thÃ¬ báº¡n khÃ´ng cáº§n pháº£i á»•n ngay Ä‘Ã¢u.
          KhÃ´ng cáº§n pháº£n há»“i gÃ¬ cáº£. Äá»c xong lÃ  Ä‘á»§ rá»“i.
        </p>
        <div class="quote">
          Náº¿u muá»‘n khÃ³c thÃ¬ cá»© khÃ³c.<br>
          Chá»‰ xin Ä‘á»«ng á»Ÿ láº¡i vá»›i ná»—i buá»“n má»™t mÃ¬nh quÃ¡ lÃ¢u.<br><br>
          <strong>MÃ¬nh á»Ÿ Ä‘Ã¢y.</strong>
        </div>
      </div>

      <div style="min-width:220px;">
        <div class="controls">
          <button class="play" onclick="playMusic()">â–¶ Nghe nháº¡c</button>
          <button class="ghost" onclick="pauseMusic()">â¸ Dá»«ng</button>
          <button class="ghost" onclick="openMood('quick')">ğŸ«§ 30s bÃ¬nh tÄ©nh</button>
        </div>
        <div class="note">(Nháº¡c sáº½ chá»‰ cháº¡y khi báº¡n báº¥m â€œNghe nháº¡câ€.)</div>
      </div>
    </div>

    <div class="sectionTitle">Chá»n Ä‘Ãºng â€œtÃ¢m tráº¡ngâ€ cá»§a báº¡n (má»Ÿ sá»• nhá»)</div>
    <div class="grid">
      <button class="tile" onclick="openMood('homesick')">
        ğŸ  Homesick
        <small>Nhá»› nhÃ , nhá»› nhá»‹p cÅ©, tháº¥y láº¡c lÃµng</small>
      </button>
      <button class="tile" onclick="openMood('lonely')">
        ğŸŒ™ CÃ´ Ä‘Æ¡n
        <small>Muá»‘n cÃ³ ai Ä‘Ã³ á»Ÿ cáº¡nh, dÃ¹ chá»‰ lÃ  im láº·ng</small>
      </button>
      <button class="tile" onclick="openMood('pressure')">
        ğŸ“š Ãp lá»±c
        <small>Viá»‡c nhiá»u, lÃ²ng cÄƒng, muá»‘n Ä‘Æ°á»£c thá»Ÿ</small>
      </button>
      <button class="tile" onclick="openMood('overthink')">
        ğŸ§  Overthinking
        <small>NghÄ© mÃ£i khÃ´ng dá»«ng, tá»± trÃ¡ch mÃ¬nh</small>
      </button>
      <button class="tile" onclick="openMood('confidence')">
        âœ¨ Thiáº¿u tá»± tin
        <small>Sá»£ mÃ¬nh khÃ´ng Ä‘á»§ tá»‘t, sá»£ â€œkhÃ´ng ká»‹pâ€</small>
      </button>
      <button class="tile" onclick="openMood('raymond')">
        ğŸ’Œ Gá»­i lá»i nháº¯n Ä‘áº¿n anh Raymond siÃªu Ä‘áº¹p trai
        <small>Viáº¿t má»™t cÃ¢u nháº¹ nhÃ ng, sang, khÃ´ng sáº¿n</small>
      </button>
    </div>

    <audio id="music" src="music.mp3"></audio>
  </div>

  <!-- Modal -->
  <div class="overlay" id="overlay" onclick="closeIfBackdrop(event)">
    <div class="modal" role="dialog" aria-modal="true">
      <div class="modalHead">
        <b id="modalTitle">Sá»• nhá»</b>
        <button class="x" onclick="closeModal()">ÄÃ³ng</button>
      </div>
      <div class="modalBody" id="modalBody"></div>
      <div class="modalActions" id="modalActions"></div>
    </div>
  </div>

<script>
  const music = document.getElementById("music");
  function playMusic(){ music.play(); }
  function pauseMusic(){ music.pause(); }

  const overlay = document.getElementById("overlay");
  const modalTitle = document.getElementById("modalTitle");
  const modalBody = document.getElementById("modalBody");
  const modalActions = document.getElementById("modalActions");

  function openMood(key){
    const data = moods[key];
    modalTitle.textContent = data.title;
    modalBody.innerHTML = data.bodyHTML;
    modalActions.innerHTML = data.actionsHTML || defaultActions();
    overlay.classList.add("show");
  }
  function closeModal(){ overlay.classList.remove("show"); }
  function closeIfBackdrop(e){
    if(e.target === overlay) closeModal();
  }

  function defaultActions(){
    return `
      <button class="play" onclick="copyFromModal()">ğŸ“© Copy Ä‘oáº¡n nÃ y</button>
      <button class="ghost" onclick="closeModal()">OK</button>
    `;
  }

  async function copyText(text){
    try{
      await navigator.clipboard.writeText(text);
      toast("ÄÃ£ copy âœ…");
    }catch(e){
      toast("KhÃ´ng copy Ä‘Æ°á»£c trÃªn trÃ¬nh duyá»‡t nÃ y.");
    }
  }

  function toast(msg){
    // toast mini báº±ng alert nháº¹ (giá»¯ Ä‘Æ¡n giáº£n)
    // náº¿u báº¡n muá»‘n toast Ä‘áº¹p, mÃ¬nh lÃ m thÃªm
    alert(msg);
  }

  function getPlainTextFromHTML(html){
    const tmp = document.createElement("div");
    tmp.innerHTML = html.replaceAll("<br>", "\n").replaceAll("<br/>", "\n").replaceAll("<br />", "\n");
    return tmp.textContent || tmp.innerText || "";
  }

  function copyFromModal(){
    const text = getPlainTextFromHTML(modalBody.innerHTML);
    copyText(text.trim());
  }

  // 30s calm script
  function runQuickCalm(){
    const steps = [
      "HÃ­t vÃ o 4â€¦ (vai tháº£ lá»ng)",
      "Giá»¯ 2â€¦ (Ä‘á»«ng vá»™i)",
      "Thá»Ÿ ra 6â€¦ (tháº£ háº¿t cÄƒng)",
      "HÃ­t vÃ o 4â€¦",
      "Giá»¯ 2â€¦",
      "Thá»Ÿ ra 6â€¦",
      "Xong rá»“i. Báº¡n khÃ´ng má»™t mÃ¬nh."
    ];
    let i = 0;
    const base = `<div class="big"><b>ğŸ«§ 30 giÃ¢y bÃ¬nh tÄ©nh</b></div>`;
    modalBody.innerHTML = base + `<div id="step">${steps[0]}</div>`;
    modalActions.innerHTML = `
      <button class="play" onclick="pauseMusic()">â¸ Táº¯t nháº¡c</button>
      <button class="ghost" onclick="closeModal()">ÄÃ³ng</button>
    `;
    const t = setInterval(()=>{
      i++;
      const el = document.getElementById("step");
      if(!el){ clearInterval(t); return; }
      if(i >= steps.length){ el.textContent = steps[steps.length-1]; clearInterval(t); return; }
      el.textContent = steps[i];
    }, 4000);
  }

  const moods = {
    quick: {
      title: "ğŸ«§ 30s bÃ¬nh tÄ©nh",
      bodyHTML: "Äang má»Ÿ hÆ°á»›ng dáº«n 30 giÃ¢yâ€¦",
      actionsHTML: `
        <button class="play" onclick="runQuickCalm()">â–¶ Báº¯t Ä‘áº§u</button>
        <button class="ghost" onclick="closeModal()">ÄÃ³ng</button>
      `
    },
    homesick: {
      title: "ğŸ  Homesick",
      bodyHTML: `
        <div class="big"><b>Sá»• nhá» cho lÃºc nhá»› nhÃ </b></div>
        Báº¡n khÃ´ng â€œyáº¿uâ€ vÃ¬ nhá»› nhÃ . Báº¡n chá»‰ Ä‘ang mang theo má»™t nÆ¡i chá»‘n mÃ¬nh thÆ°Æ¡ng.<br><br>
        HÃ´m nay, thá»­ má»™t Ä‘iá»u ráº¥t nhá»: <b>Äƒn má»™t mÃ³n quen</b> hoáº·c <b>nghe má»™t bÃ i nháº¡c cÅ©</b>.
        KhÃ´ng pháº£i Ä‘á»ƒ quay láº¡i, mÃ  Ä‘á»ƒ trÃ¡i tim Ä‘Æ°á»£c â€œcháº¡mâ€ má»™t chÃºt rá»“i sáº½ nháº¹ hÆ¡n.<br><br>
        <b>Quote:</b><br>
        â€œNhá»› nhÃ  khÃ´ng lÃ m mÃ¬nh nhá» láº¡i. NÃ³ chá»‰ nháº¯c ráº±ng mÃ¬nh tá»«ng Ä‘Æ°á»£c yÃªu ráº¥t nhiá»u.â€
      `
    },
    lonely: {
      title: "ğŸŒ™ CÃ´ Ä‘Æ¡n",
      bodyHTML: `
        <div class="big"><b>Sá»• nhá» cho lÃºc cÃ´ Ä‘Æ¡n</b></div>
        CÃ³ nhá»¯ng lÃºc Ä‘Ã´ng ngÆ°á»i váº«n tháº¥y trá»‘ng, chuyá»‡n Ä‘Ã³ bÃ¬nh thÆ°á»ng láº¯m.<br><br>
        Náº¿u báº¡n khÃ´ng muá»‘n nÃ³i chuyá»‡n, mÃ¬nh váº«n á»Ÿ Ä‘Ã¢y theo cÃ¡ch nháº¹ nháº¥t.
        Báº¡n chá»‰ cáº§n nháº¯n má»™t emoji cÅ©ng Ä‘Æ°á»£c.<br><br>
        <b>Quote:</b><br>
        â€œBáº¡n khÃ´ng cáº§n má»™t Ä‘Ã¡m Ä‘Ã´ng. Báº¡n chá»‰ cáº§n má»™t ngÆ°á»i tháº­t lÃ²ng.â€
      `
    },
    pressure: {
      title: "ğŸ“š Ãp lá»±c",
      bodyHTML: `
        <div class="big"><b>Sá»• nhá» cho lÃºc Ã¡p lá»±c</b></div>
        Khi Ã¡p lá»±c kÃ©o cÄƒng, mÃ¬nh hay nháº¯c má»™t cÃ¢u: <b>Ä‘á»«ng giáº£i cáº£ Ä‘á»i trong má»™t buá»•i tá»‘i</b>.<br><br>
        Chia nhá» ra: 1 viá»‡c â€” 10 phÃºt â€” xong lÃ  nghá»‰. Báº¡n khÃ´ng cáº§n tháº¯ng nhanh.<br><br>
        <b>Quote:</b><br>
        â€œTiáº¿n má»™t chÃºt má»—i ngÃ y váº«n lÃ  tiáº¿n. VÃ  váº«n Ä‘Ã¡ng tá»± hÃ o.â€
      `
    },
    overthink: {
      title: "ğŸ§  Overthinking",
      bodyHTML: `
        <div class="big"><b>Sá»• nhá» cho lÃºc nghÄ© quÃ¡ nhiá»u</b></div>
        Báº¡n Ä‘ang nghÄ© nhiá»u vÃ¬ báº¡n quan tÃ¢m. NhÆ°ng trÃ¡i tim cÅ©ng cáº§n nghá»‰ nhÆ° nÃ£o váº­y.<br><br>
        Thá»­ viáº¿t ra 3 dÃ²ng thÃ´i:
        1) Äiá»u mÃ¬nh sá»£ nháº¥t
        2) Äiá»u mÃ¬nh kiá»ƒm soÃ¡t Ä‘Æ°á»£c hÃ´m nay
        3) Má»™t bÆ°á»›c nhá» mÃ¬nh sáº½ lÃ m<br><br>
        <b>Quote:</b><br>
        â€œKhÃ´ng pháº£i má»i suy nghÄ© Ä‘á»u lÃ  sá»± tháº­t. CÃ³ cÃ¡i chá»‰ lÃ  má»‡t.â€
      `
    },
    confidence: {
      title: "âœ¨ Thiáº¿u tá»± tin",
      bodyHTML: `
        <div class="big"><b>Sá»• nhá» cho lÃºc tháº¥y mÃ¬nh â€œkhÃ´ng Ä‘á»§â€</b></div>
        Báº¡n khÃ´ng cáº§n hoÃ n háº£o Ä‘á»ƒ xá»©ng Ä‘Ã¡ng. Báº¡n chá»‰ cáº§n tiáº¿p tá»¥c sá»‘ng tá»­ táº¿ vá»›i chÃ­nh mÃ¬nh.<br><br>
        Náº¿u hÃ´m nay báº¡n chá»‰ lÃ m Ä‘Æ°á»£c 60% â€” cÅ©ng tá»‘t rá»“i.
        VÃ¬ 60% váº«n lÃ  má»™t ngÃ y báº¡n khÃ´ng bá» cuá»™c.<br><br>
        <b>Quote:</b><br>
        â€œBáº¡n khÃ´ng tá»¥t láº¡i. Báº¡n chá»‰ Ä‘ang Ä‘i báº±ng nhá»‹p cá»§a mÃ¬nh.â€
      `
    },
    raymond: {
      title: "ğŸ’Œ Gá»­i lá»i nháº¯n Ä‘áº¿n anh Raymond siÃªu Ä‘áº¹p trai",
      bodyHTML: `
        <div class="big"><b>Viáº¿t lá»i nháº¯n á»Ÿ Ä‘Ã¢y</b></div>
        <textarea id="msg" placeholder="VÃ­ dá»¥: Anh Raymond Æ¡i, cáº£m Æ¡n anh vÃ¬ luÃ´n tinh táº¿..."></textarea>
        <div class="hint">
          Gá»£i Ã½ â€œsang â€“ nháº¹ â€“ khÃ´ng sáº¿nâ€ (báº¡n cÃ³ thá»ƒ copy luÃ´n):<br>
          1) â€œAnh Raymond Æ¡i, cáº£m Æ¡n anh vÃ¬ sá»± tá»­ táº¿ ráº¥t â€˜quietâ€™. NÃ³ lÃ m em tháº¥y yÃªn.â€<br>
          2) â€œAnh Ä‘áº¹p trai tháº­t, nhÆ°ng cÃ¡i Ä‘Ã¡ng ná»ƒ hÆ¡n lÃ  cÃ¡ch anh khiáº¿n ngÆ°á»i khÃ¡c tháº¥y Ä‘Æ°á»£c trÃ¢n trá»ng.â€<br>
          3) â€œNáº¿u hÃ´m nay em hÆ¡i má»‡t, em muá»‘n nÃ³i má»™t cÃ¢u thÃ´i: cÃ³ anh á»Ÿ Ä‘Ã³ lÃ  Ä‘á»§ an tÃ¢m rá»“i.â€
        </div>
      `,
      actionsHTML: `
        <button class="play" onclick="copyRaymond()">ğŸ“© Copy lá»i nháº¯n</button>
        <button class="ghost" onclick="fillSuggestion(1)">âœ¨ Gá»£i Ã½ 1</button>
        <button class="ghost" onclick="fillSuggestion(2)">âœ¨ Gá»£i Ã½ 2</button>
        <button class="ghost" onclick="fillSuggestion(3)">âœ¨ Gá»£i Ã½ 3</button>
        <button class="ghost" onclick="closeModal()">ÄÃ³ng</button>
      `
    }
  };

  function fillSuggestion(n){
    const el = document.getElementById("msg");
    if(!el) return;
    const suggestions = {
      1: "Anh Raymond Æ¡i, cáº£m Æ¡n anh vÃ¬ sá»± tá»­ táº¿ ráº¥t â€˜quietâ€™. NÃ³ lÃ m em tháº¥y yÃªn.",
      2: "Anh Ä‘áº¹p trai tháº­t, nhÆ°ng cÃ¡i Ä‘Ã¡ng ná»ƒ hÆ¡n lÃ  cÃ¡ch anh khiáº¿n ngÆ°á»i khÃ¡c tháº¥y Ä‘Æ°á»£c trÃ¢n trá»ng.",
      3: "Náº¿u hÃ´m nay em hÆ¡i má»‡t, em muá»‘n nÃ³i má»™t cÃ¢u thÃ´i: cÃ³ anh á»Ÿ Ä‘Ã³ lÃ  Ä‘á»§ an tÃ¢m rá»“i."
    };
    el.value = suggestions[n] || "";
  }

  function copyRaymond(){
    const el = document.getElementById("msg");
    const text = (el && el.value.trim()) ? el.value.trim() : "Anh Raymond Æ¡i, cáº£m Æ¡n anh vÃ¬ sá»± tá»­ táº¿ ráº¥t â€˜quietâ€™. NÃ³ lÃ m em tháº¥y yÃªn.";
    copyText(text);
  }
</script>
</body>
</html>
